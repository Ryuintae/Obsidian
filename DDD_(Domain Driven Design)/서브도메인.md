![다이어그램](서브도메인예시.png)
DDD 프로젝트를 진행 할 때, 항상 그 안에는 다수의 `바운디드 컨텍스트` 가 존재한다. 

이 바운디드 컨텍스트들 중 하나는 `핵심 도메인`이 될 것이고, 다른 바운디드 컨텍스트에는 다양한 서브도메인이 존재할 것이다.

위에 다이어그램을 보면, `6개의 바운디드 컨텍스트` 와 `6개의 서브도메인`이 있다.
 
위는 ==DDD 전략적 설계== 를 사용하였고, 이것으로 최적의 모델을 구성했다.

바운디드 컨텍스트마다 하나의 `서브 도메인`, 각 서브도메인 마다 하나의 바운디드 컨텍스트.

==다시 말해서 애자일 프로젝트 관리 핵심은 하나의 바운디드 컨텍스트와 하나의 서브 도메인 모두를 포함한다는 것이다.== 

>[!bug] 
>드물게 하나의 바운디드 컨텍스트 안에 다수의 서브도메인 이 있을 수도 있지만, 이 경우에는 최적의 모델을 구성했다고 보기는 힘들다.

## 서브 도메인은 무엇인가?
>[!tip] 서브 도메인이란?
>서브 도메인은 전체 비즈니스 도메인의 하위 부분이다.

서브도메인이 하나의 논리적 도메인 모델을 나타내는 것이라고 생각할수도 있다.

대부분의 비즈니스 도메인은 보통 전체를 포괄적으로 생각하기엔 너무 크고 복잡하다.

그래서 우리는 일반적으로 단일 프로젝트 내에 존재하는 `서브 도메인`에 대해 고민한다.

즉,
==거대하고 복잡한 프로젝트 에서 문제 영역을 이해할 수 있도록 전체 비즈니스 도메인을 논리적으로 쪼개는데 서브 도메인을 사용 할 수도 있다.==

또한, 서브도메인 에는 크든, 작든 비즈니스에 대한 전략적 의의가 있다.

서브도메인을 개발하는 데 DDD를 사용했다면 `명확한 바운디드 컨텍스트`를 구현할 수 있다.
특정 비즈니스 영역에 전문성을 갖고 있는 도메인 전문가는 그 바운디드 컨텍스트를 개발한 팀의 일원이었을 것이다.


## 서브 도메인의 유형

프로젝트에는 세 가지 주요 `서브 도메인` 유형이 있다.

### 핵심 도메인 

`보편언어` 를 신중하게 만들기 위한 전략적 투자 영역으로, 주요 자원을 할당하는 명시적인 바운디드 컨텍스트이며, 잘 정의된 도메인 모델이 존재한다.
이 도메인은 다른 경쟁자들에 대한 차별화를 만들 영역이기 때문에 기업의 프로젝트 목록에서는 높은 우선순위를 갖는다.
또한, `핵심 도메인`은 소프트웨어에서 가장 큰 투자가 필요한 곳이다.

### 지원 서브 도메인

이것은 이미 존재하는 제품으로 해결할 수 없는 맞춤 제작 개발이 필요한 모델링 영역을 말한다.
하지만 여기에는 핵심 도메인 에서와 같은 투자 방식을 동일하게 따를 필요가 없다.

전략적 차별화를 위해 투자한 것에 실패하지 않으면서도 지원 혀앹의 바운디드 컨텍스트에 너무 큰 투자를 하지 않기 위해 아웃소싱을 고려해볼 수도 있다.
==하지만 지원서브도메인 없이 핵심 도메인을 성공시킬 수는 없기 때문에 이는 여전히 중요한 소프트웨어 모델이다.==

### 일반 서브 도메인

이 영역은 기존 제품 구매를 통해 바로 충족 시킬 수 있는 경우에 해당한다.
하지만 아우소싱을 할 수 도있고, `핵심 도메인` 또는 좀 더 작은 `지원 서브도메인` 에 할당된, 엘리트 개발자가 없는 팀에서 직접 개발할 수도 있다.
==일반 서브도메인을 핵심 도메인으로 오해하지 않도록 주의해야 한다.==

## 복잡성 다루기
![[Pasted image 20231005110934.png]]
비즈니스 도메인 안의 시스템 경계 중 일부는 레거시 시스템일 가능성이 높다.

이런 경우 레거시 시스템을 개선하는 작업들을 많이 진행하기 어려울 수도 있지만, 
여전히 그 시스템들이 핵심 도메인 프로젝트에 어떤 영향을 주고 있는지는 명확히 해야 한다.

이런 경우, 문제 영역에 대한 논의하기 위한 도구로  ==서브 도메인== 을 사용해야 한다.




![서브도메인2](서브도메인2.png)

레거시 시스템을 논할 때, 그 안에 몇 개 혹은 더 많은 `논리적 도메인 모델` 이 존재한다면, 이것을 `서브 도메인` 으로 생각해볼 수도 있다.

위에 다이어그램을 보면, 경계가 없는 레거시로 굳어버린 큰 진흙 덩어리 안에 있을 수 있는 `논리적 서브 도메인`을 점선 상자로 표시했다.

여기에는 5개의 논리적 모델 또는 `서브 도메인` 이 있으며, 논리적 서브 도메인이 큰 시스템의 복잡도를 해결할 수 있도록 도와줄 수 있다.
이와 같은 생각은 문제 영역을 DDD 와 여러 개의바운디드 컨텍스트를 사용해 개발 한 시스템 처럼 다룰 수 있게 해주기 때문이다.